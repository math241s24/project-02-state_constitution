{
  "hash": "75a9ee38f6593c89e091673ae0cfa529",
  "result": {
    "markdown": "---\ntitle: \"mapdoc\"\nformat: html\neditor: visual\n---\n\n\n## List Of States\n\nConnecticut: <https://www.cga.ct.gov/asp/Content/constitutions/1818Constitution.htm> (Basil-Anne)\n\nDelaware: <https://avalon.law.yale.edu/18th_century/de02.asp> (Basil-Anne)\n\nGeorgia: <https://avalon.law.yale.edu/18th_century/ga02.asp> (Katie)\n\nMaryland: <https://avalon.law.yale.edu/17th_century/ma02.asp> (Katie)\n\nMassachusetts: <http://www.nhinet.org/ccs/docs/ma-1780.htm> (Basil-Anne)\n\nNew Hampshire: <https://avalon.law.yale.edu/18th_century/nh09.asp> (Katie)\n\nNew Jersey: <https://avalon.law.yale.edu/18th_century/nj15.asp> (Katie)\n\nNew York: <https://avalon.law.yale.edu/18th_century/ny01.asp> (Cassie)\n\nNorth Carolina: <https://avalon.law.yale.edu/18th_century/nc07.asp> (Cassie)\n\nPennsylvania: <https://avalon.law.yale.edu/18th_century/pa08.asp> (Cassie)\n\nRhode Island: <https://www.wordservice.org/State%20Constitutions/usa1031.htm> (Basil-Anne)\n\nSouth Carolina: <https://avalon.law.yale.edu/18th_century/sc02.asp> (Cassie)\n\nVirginia: <https://www.wordservice.org/State%20Constitutions/usa1025.htm> (Basil-Anne)\n\n## Connecticut\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(rvest)\nlibrary(dplyr)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'dplyr'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n```\n:::\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'ggplot2' was built under R version 4.3.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ forcats   1.0.0     ✔ readr     2.1.5\n✔ ggplot2   3.5.0     ✔ stringr   1.5.1\n✔ lubridate 1.9.3     ✔ tibble    3.2.1\n✔ purrr     1.0.2     ✔ tidyr     1.3.1\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter()         masks stats::filter()\n✖ readr::guess_encoding() masks rvest::guess_encoding()\n✖ dplyr::lag()            masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nlibrary(tidytext)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'tidytext' was built under R version 4.3.3\n```\n:::\n\n```{.r .cell-code}\nct_url <- \"https://www.cga.ct.gov/asp/Content/constitutions/1818Constitution.htm\"\nct_html <- read_html(ct_url)\n\nct_text <- html_text(ct_html)\n\nct_con <- data.frame(word = unlist(strsplit(ct_text, \"\\\\s+\"))) %>%\n  filter(word != \"\")  %>%\n  mutate(word = str_replace_all(word, \"[[:punct:][:space:]]+\", \"\")) %>%\n  filter(!word== \"\")\n\nrows_to_exclude_ct <- c(1:7, 223:298, 6012:12230)\n\nct_con_tidy <- ct_con %>%\n  mutate(word = tolower(word)) %>%\n  filter(!(row_number() %in% rows_to_exclude_ct))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidytext)\n\nct_word_count <- ct_con_tidy %>%\n  filter(word %in%\n  c(\"freedom\", \"liberty\", \"welfare\", \"consent\", \"prohibit\", \"equality\", \"rights\")) %>%\n  count(word) \n\ndata(\"stop_words\")\nct_con_tidy_nostop <- ct_con_tidy %>%\n anti_join(stop_words) \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nJoining with `by = join_by(word)`\n```\n:::\n\n```{.r .cell-code}\nct_all_words <- ct_con_tidy_nostop %>%\n  count(word, sort = TRUE) %>%\n    slice_max(n = 20, order_by = n) %>%\n  mutate(state = rep(\"Connecticut\"))\n```\n:::\n\n\n## Delaware\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(rvest)\nlibrary(dplyr)\n\nde_url <- \"https://avalon.law.yale.edu/18th_century/de02.asp\"\nde_html <- read_html(de_url)\n\nde_text <- html_text(de_html)\n\nde_con <- data.frame(word = unlist(strsplit(de_text, \"\\\\s+\"))) %>%\n  filter(word != \"\")  %>%\n  mutate(word = str_replace_all(word, \"[[:punct:][:space:]]+\", \"\")) \n\nrows_to_exclude <- c(1:54, 3721:3796)\n\nde_con_tidy <- de_con %>%\n  mutate(word = tolower(word)) %>%\n  filter(!(row_number() %in% rows_to_exclude))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidytext)\nde_word_count <- de_con_tidy %>%\n  filter(word %in%\n  c(\"freedom\", \"liberty\", \"welfare\", \"consent\", \"prohibit\", \"equality\", \"rights\")) %>%\n  count(word) %>%\n  mutate(state = rep(\"Delaware\"))\n\n\ndata(\"stop_words\")\nde_con_tidy_nostop <- de_con_tidy %>%\n anti_join(stop_words) \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nJoining with `by = join_by(word)`\n```\n:::\n\n```{.r .cell-code}\nde_all_words <- de_con_tidy_nostop %>%\n  count(word, sort = TRUE) %>%\n    slice_max(n = 20, order_by = n) %>%\n  mutate(state = rep(\"Delaware\"))\n```\n:::\n\n\n## Georgia\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(rvest)\nlibrary(dplyr)\n\nga_url <- \"https://avalon.law.yale.edu/18th_century/ga02.asp\"\nga_html <- read_html(ga_url)\n\nga_text <- html_text(ga_html)\n\nga_con <- data.frame(word = unlist(strsplit(ga_text, \"\\\\s+\"))) %>%\n  filter(word != \"\")  %>%\n  mutate(word = str_replace_all(word, \"[[:punct:][:space:]]+\", \"\")) \n\nrows_to_exclude_ga <- c(1:56, 4422:4652)\n\nga_con_tidy <- ga_con %>%\n  mutate(word = tolower(word)) %>%\n  filter(!(row_number() %in% rows_to_exclude_ga))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidytext)\nga_word_count <- ga_con_tidy %>%\n  filter(word %in%\n  c(\"freedom\", \"liberty\", \"welfare\", \"consent\", \"prohibit\", \"equality\", \"rights\")) %>%\n  count(word) %>%\n  mutate(state = rep(\"Georgia\"))\n\n\ndata(\"stop_words\")\nga_con_tidy_nostop <- ga_con_tidy %>%\n anti_join(stop_words) \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nJoining with `by = join_by(word)`\n```\n:::\n\n```{.r .cell-code}\nga_all_words <- ga_con_tidy_nostop %>%\n  count(word, sort = TRUE) %>%\n    slice_max(n = 20, order_by = n) %>%\n  mutate(state = rep(\"Georgia\"))\n```\n:::\n\n\n## Maryland\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(rvest)\nlibrary(dplyr)\n\nmd_url <- \"https://avalon.law.yale.edu/17th_century/ma02.asp\"\nmd_html <- read_html(md_url)\n\nmd_text <- html_text(md_html)\n\nmd_con <- data.frame(word = unlist(strsplit(md_text, \"\\\\s+\"))) %>%\n  filter(word != \"\")  %>%\n  mutate(word = str_replace_all(word, \"[[:punct:][:space:]]+\", \"\")) \n\nrows_to_exclude_md <- c(1:94, 2623:2669, 8854:9084)\n\nmd_con_tidy <- md_con %>%\n  mutate(word = tolower(word)) %>%\n  filter(!(row_number() %in% rows_to_exclude_md))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidytext)\nmd_word_count <- md_con_tidy %>%\n  filter(word %in%\n  c(\"freedom\", \"liberty\", \"welfare\", \"consent\", \"prohibit\", \"equality\", \"rights\")) %>%\n  count(word) %>%\n  mutate(state = rep(\"Maryland\"))\n\n\ndata(\"stop_words\")\nmd_con_tidy_nostop <- md_con_tidy %>%\n anti_join(stop_words) \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nJoining with `by = join_by(word)`\n```\n:::\n\n```{.r .cell-code}\nmd_all_words <- md_con_tidy_nostop %>%\n  count(word, sort = TRUE) %>%\n    slice_max(n = 20, order_by = n) %>%\n  mutate(state = rep(\"Maryland\"))\n```\n:::\n\n\n## Massachusetts\n\n\n::: {.cell}\n\n```{.r .cell-code}\nma_url <- \"http://www.nhinet.org/ccs/docs/ma-1780.htm\"\nma_html <- read_html(ma_url)\n\nma_text <- html_text(ma_html)\n\nma_con <- data.frame(word = unlist(strsplit(ma_text, \"\\\\s+\"))) %>%\n  filter(word != \"\")  %>%\n  mutate(word = str_replace_all(word, \"[[:punct:][:space:]]+\", \"\")) \n\nrows_to_exclude_ma <- c(11433:11445)\n\nma_con_tidy <- ma_con %>%\n  mutate(word = tolower(word)) %>%\n  mutate(word=gsub(\"[[:space:]]\", \"\", word)) %>%\n  filter(!(row_number() %in% rows_to_exclude_ma))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidytext)\nma_word_count <- ma_con_tidy %>%\n  filter(word %in%\n  c(\"freedom\", \"liberty\", \"welfare\", \"consent\", \"prohibit\", \"equality\", \"rights\")) %>%\n  count(word) %>%\n  mutate(state = rep(\"Massachusetts\"))\n\n\ndata(\"stop_words\")\nma_con_tidy_nostop <- ma_con_tidy %>%\n anti_join(stop_words) \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nJoining with `by = join_by(word)`\n```\n:::\n\n```{.r .cell-code}\nma_all_words <- ma_con_tidy_nostop %>%\n  count(word, sort = TRUE) %>%\n    slice_max(n = 20, order_by = n) %>%\n  filter(!word%in%c(\"(art.\", \"\")) %>%\n  mutate(state = rep(\"Massachusetts\"))\n```\n:::\n\n\n## New Hampshire\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(rvest)\nlibrary(dplyr)\n\nnh_url <- \"https://avalon.law.yale.edu/18th_century/nh09.asp\"\nnh_html <- read_html(nh_url)\n\nnh_text <- html_text(nh_html)\n\nnh_con <- data.frame(word = unlist(strsplit(nh_text, \"\\\\s+\"))) %>%\n  filter(word != \"\")  %>%\n  mutate(word = str_replace_all(word, \"[[:punct:][:space:]]+\", \"\")) \n\nrows_to_exclude_nh <- c(1:63, 994:1242)\n\nnh_con_tidy <- nh_con %>%\n  mutate(word = tolower(word)) %>%\n  filter(!(row_number() %in% rows_to_exclude_nh))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidytext)\nnh_word_count <- nh_con_tidy %>%\n  filter(word %in%\n  c(\"freedom\", \"liberty\", \"welfare\", \"consent\", \"prohibit\", \"equality\", \"rights\")) %>%\n  count(word) %>%\n  mutate(state = rep(\"New Hampshire\"))\n\n\ndata(\"stop_words\")\nnh_con_tidy_nostop <- nh_con_tidy %>%\n anti_join(stop_words) \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nJoining with `by = join_by(word)`\n```\n:::\n\n```{.r .cell-code}\nnh_all_words <- nh_con_tidy_nostop %>%\n  count(word, sort = TRUE) %>%\n    slice_max(n = 20, order_by = n) %>%\n  filter(!word%in%c(\"(art.\", \" \")) %>%\n  mutate(state = rep(\"New Hampshire\"))\n```\n:::\n\n\n## New Jersey\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(rvest)\nlibrary(dplyr)\n\nnj_url <- \"https://avalon.law.yale.edu/18th_century/nj15.asp\"\nnj_html <- read_html(nj_url)\n\nnj_text <- html_text(nj_html)\n\nnj_con <- data.frame(word = unlist(strsplit(nj_text, \"\\\\s+\"))) %>%\n  filter(word != \"\")  %>%\n  mutate(word = str_replace_all(word, \"[[:punct:][:space:]]+\", \"\")) \n\nrows_to_exclude_nj <- c(1:55, 2524:2889)\n\nnj_con_tidy <- nj_con %>%\n  mutate(word = tolower(word)) %>%\n  filter(!(row_number() %in% rows_to_exclude_nj))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidytext)\nnj_word_count <- nj_con_tidy %>%\n  filter(word %in%\n  c(\"freedom\", \"liberty\", \"welfare\", \"consent\", \"prohibit\", \"equality\", \"rights\")) %>%\n  count(word) %>%\n  mutate(state = rep(\"New Jersey\"))\n\n\ndata(\"stop_words\")\nnj_con_tidy_nostop <- nj_con_tidy %>%\n anti_join(stop_words) \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nJoining with `by = join_by(word)`\n```\n:::\n\n```{.r .cell-code}\nnj_all_words <- nj_con_tidy_nostop %>%\n  count(word, sort = TRUE) %>%\n    slice_max(n = 20, order_by = n) %>%\n  filter(!word%in%c(\"(art.\", \" \"))  %>%\n  mutate(state = rep(\"New Jersey\"))\n```\n:::\n\n\n## New York\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(rvest)\nlibrary(dplyr)\n\nny_url <- \"https://avalon.law.yale.edu/18th_century/ny01.asp\"\nny_html <- read_html(ny_url)\n\nny_text <- html_text(ny_html)\n\nny_con <- data.frame(word = unlist(strsplit(ny_text, \"\\\\s+\"))) %>%\n  filter(word != \"\")  %>%\n  mutate(word = str_replace_all(word, \"[[:punct:][:space:]]+\", \"\")) \n\nrows_to_exclude <- c(1:68, 7813:8781)\n\nny_con_tidy <- ny_con %>%\n  mutate(word = tolower(word)) %>%\n  filter(!(row_number() %in% rows_to_exclude))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidytext)\n\nny_word_count <- ny_con_tidy %>%\n  filter(word %in%\n  c(\"freedom\", \"liberty\", \"welfare\", \"consent\", \"prohibit\", \"equality\", \"rights\")) %>%\n  count(word) %>%\n  mutate(state = rep(\"New York\"))\n\n\ndata(\"stop_words\")\nny_con_tidy_nostop <- ny_con_tidy %>%\n anti_join(stop_words) \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nJoining with `by = join_by(word)`\n```\n:::\n\n```{.r .cell-code}\nny_all_words <- ny_con_tidy_nostop %>%\n  count(word, sort = TRUE) %>%\n    slice_max(n = 20, order_by = n) %>%\n  mutate(state = rep(\"New York\"))\n```\n:::\n\n\n## North Carolina\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(rvest)\nlibrary(dplyr)\n\nnc_url <- \"https://avalon.law.yale.edu/18th_century/nc07.asp\"\nnc_html <- read_html(nc_url)\n\nnc_text <- html_text(nc_html)\n\nnc_con <- data.frame(word = unlist(strsplit(nc_text, \"\\\\s+\"))) %>%\n  filter(word != \"\")  %>%\n  mutate(word = str_replace_all(word, \"[[:punct:][:space:]]+\", \"\")) \n\nrows_to_exclude <- c(1:58, 3991:4231)\n\nnc_con_tidy <- nc_con %>%\n  mutate(word = tolower(word)) %>%\n  filter(!(row_number() %in% rows_to_exclude))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidytext)\nnc_word_count <- nc_con_tidy %>%\n  filter(word %in%\n  c(\"freedom\", \"liberty\", \"welfare\", \"consent\", \"prohibit\", \"equality\", \"rights\")) %>%\n  count(word) %>%\n  mutate(state = rep(\"North Carolina\"))\n\n\ndata(\"stop_words\")\nnc_con_tidy_nostop <- nc_con_tidy %>%\n anti_join(stop_words) \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nJoining with `by = join_by(word)`\n```\n:::\n\n```{.r .cell-code}\nnc_all_words <- nc_con_tidy_nostop %>%\n  count(word, sort = TRUE) %>%\n    slice_max(n = 20, order_by = n) %>%\n  filter(!word%in%c(\"(--\", \" \")) %>%\n  mutate(state = rep(\"North Carolina\"))\n```\n:::\n\n\n## Pennsylvania\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(rvest)\nlibrary(dplyr)\n\npa_url <- \"https://avalon.law.yale.edu/18th_century/pa08.asp\"\npa_html <- read_html(pa_url)\n\npa_text <- html_text(pa_html)\n\npa_con <- data.frame(word = unlist(strsplit(pa_text, \"\\\\s+\"))) %>%\n  filter(word != \"\")  %>%\n  mutate(word = str_replace_all(word, \"[[:punct:][:space:]]+\", \"\")) \n\nrows_to_exclude <- c(1:57, 6196:6533)\n\npa_con_tidy <- pa_con %>%\n  mutate(word = tolower(word)) %>%\n  filter(!(row_number() %in% rows_to_exclude))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidytext)\npa_word_count <- pa_con_tidy %>%\n  filter(word %in%\n  c(\"freedom\", \"liberty\", \"welfare\", \"consent\", \"prohibit\", \"equality\", \"rights\")) %>%\n  count(word) %>%\n  mutate(state = rep(\"Pennsylvania\"))\n\n\ndata(\"stop_words\")\npa_con_tidy_nostop <- pa_con_tidy %>%\n anti_join(stop_words) \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nJoining with `by = join_by(word)`\n```\n:::\n\n```{.r .cell-code}\npa_all_words <- pa_con_tidy_nostop %>%\n  count(word, sort = TRUE) %>%\n    slice_max(n = 20, order_by = n) %>%\n  filter(!word%in%c(\"(--\", \" \")) %>%\n  mutate(state = rep(\"Pennsylvania\"))\n```\n:::\n\n\n## Rhode Island\n\n\n::: {.cell}\n\n```{.r .cell-code}\nri_url <- \"https://www.wordservice.org/State%20Constitutions/usa1031.htm\"\nri_html <- read_html(ri_url)\n\nri_text <- html_text(ri_html)\n\nri_con <- data.frame(word = unlist(strsplit(ri_text, \"\\\\s+\"))) %>%\n  filter(word != \"\")  %>%\n  mutate(word = str_replace_all(word, \"[[:punct:][:space:]]+\", \"\")) %>%\n  filter(!word== \"\")\n\n\nrows_to_exclude_ri <- c(1:200, 7322:7331)\n\nri_con_tidy <- ri_con %>%\n  mutate(word = tolower(word)) %>%\n  filter(!(row_number() %in% rows_to_exclude_ri))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidytext)\nri_word_count <- ri_con_tidy %>%\n  filter(word %in%\n  c(\"freedom\", \"liberty\", \"welfare\", \"consent\", \"prohibit\", \"equality\", \"rights\")) %>%\n  count(word) %>%\n  mutate(state = rep(\"Rhode Island\"))\n\n\ndata(\"stop_words\")\nri_con_tidy_nostop <- ri_con_tidy %>%\n anti_join(stop_words) \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nJoining with `by = join_by(word)`\n```\n:::\n\n```{.r .cell-code}\nri_all_words <- ri_con_tidy_nostop %>%\n  count(word, sort = TRUE) %>%\n    slice_max(n = 20, order_by = n) %>%\n  filter(!word%in%c(\"(--\", \" \")) %>%\n  mutate(state = rep(\"Rhode Island\"))\n```\n:::\n\n\n## South Carolina\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(rvest)\nlibrary(dplyr)\n\nsc_url <- \"https://avalon.law.yale.edu/18th_century/sc02.asp\"\nsc_html <- read_html(sc_url)\n\nsc_text <- html_text(sc_html)\n\nsc_con <- data.frame(word = unlist(strsplit(sc_text, \"\\\\s+\"))) %>%\n  filter(word != \"\")  %>%\n  mutate(word = str_replace_all(word, \"[[:punct:][:space:]]+\", \"\")) \n\nrows_to_exclude <- c(1:58, 5639:5880)\n\nsc_con_tidy <- sc_con %>%\n  mutate(word = tolower(word)) %>%\n  filter(!(row_number() %in% rows_to_exclude))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidytext)\nsc_word_count <- sc_con_tidy %>%\n  filter(word %in%\n  c(\"freedom\", \"liberty\", \"welfare\", \"consent\", \"prohibit\", \"equality\", \"rights\")) %>%\n  count(word) %>%\n  mutate(state = rep(\"South Carolina\"))\n\n\ndata(\"stop_words\")\nsc_con_tidy_nostop <- sc_con_tidy %>%\n anti_join(stop_words) \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nJoining with `by = join_by(word)`\n```\n:::\n\n```{.r .cell-code}\nsc_all_words <- sc_con_tidy_nostop %>%\n  count(word, sort = TRUE) %>%\n    slice_max(n = 20, order_by = n) %>%\n  filter(!word%in%c(\"(--\", \" \"))  %>%\n  mutate(state = rep(\"South Carolina\"))\n```\n:::\n\n\n## Virginia\n\n\n::: {.cell}\n\n```{.r .cell-code}\nva_url <- \"https://www.wordservice.org/State%20Constitutions/usa1025.htm\"\nva_html <- read_html(va_url)\n\nva_text <- html_text(va_html)\n\nva_con <- data.frame(word = unlist(strsplit(va_text, \"\\\\s+\"))) %>%\n  filter(word != \"\")  %>%\n  mutate(word = str_replace_all(word, \"[[:punct:][:space:]]+\", \"\")) \n\nrows_to_exclude_va <- c(1:201, 3680:3689)\n\nva_con_tidy <- va_con %>%\n  mutate(word = tolower(word)) %>%\n  filter(!(row_number() %in% rows_to_exclude_va))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidytext)\nva_word_count <- va_con_tidy %>%\n  filter(word %in%\n  c(\"freedom\", \"liberty\", \"welfare\", \"consent\", \"prohibit\", \"equality\", \"rights\")) %>%\n  count(word) %>%\n  mutate(state = rep(\"Virginia\"))\n\n\ndata(\"stop_words\")\nva_con_tidy_nostop <- va_con_tidy %>%\n anti_join(stop_words) \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nJoining with `by = join_by(word)`\n```\n:::\n\n```{.r .cell-code}\nva_all_words <- va_con_tidy_nostop %>%\n  count(word, sort = TRUE) %>%\n    slice_max(n = 20, order_by = n) %>%\n  filter(!word%in%c(\"(--\", \" \")) %>%\n  mutate(state = rep(\"Virginia\"))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nct_word_count <- ct_word_count %>%\n  mutate(state = rep(\"Connecticut\"))\n\nde_word_count <- de_word_count %>%\n  mutate(state = rep(\"Delaware\"))\n\nga_word_count <- ga_word_count %>%\n  mutate(state = rep(\"Georgia\"))\n\nma_word_count <- ma_word_count %>%\n  mutate(state = rep(\"Massachusetts\"))\n\nmd_word_count <- md_word_count %>%\n  mutate(state = rep(\"Maryland\"))\n\nnc_word_count <- nc_word_count %>%\n  mutate(state = rep(\"North Carolina\"))\n\nnh_word_count <- nh_word_count %>%\n  mutate(state = rep(\"New Hampshire\"))\n\nnj_word_count <- nj_word_count %>%\n  mutate(state = rep(\"New Jersey\"))\n\nny_word_count <- ny_word_count %>%\n  mutate(state = rep(\"New York\"))\n\npa_word_count <- pa_word_count %>%\n  mutate(state = rep(\"Pennsylvania\"))\n\nri_word_count <- ri_word_count %>%\n  mutate(state = rep(\"Rhode Island\"))\n\nsc_word_count <- sc_word_count %>%\n  mutate(state = rep(\"South Carolina\"))\n\nva_word_count <- va_word_count %>%\n  mutate(state = rep(\"Virginia\"))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tmap)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nBreaking News: tmap 3.x is retiring. Please test v4, e.g. with\nremotes::install_github('r-tmap/tmap')\n```\n:::\n\n```{.r .cell-code}\nlibrary(tigris)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nTo enable caching of data, set `options(tigris_use_cache = TRUE)`\nin your R script or .Rprofile.\n```\n:::\n\n```{.r .cell-code}\nlibrary(tidyr)\n\nthirteen_cons <- rbind(ct_word_count,\n                       de_word_count,\n                       ga_word_count,\n                       ma_word_count,\n                       md_word_count,\n                       nc_word_count,\n                       nh_word_count,\n                       nj_word_count,\n                       ny_word_count,\n                       pa_word_count,\n                       ri_word_count,\n                       sc_word_count,\n                       va_word_count)\nstates <- states()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRetrieving data for the year 2021\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |                                                                      |   1%\n  |                                                                            \n  |=                                                                     |   1%\n  |                                                                            \n  |=                                                                     |   2%\n  |                                                                            \n  |==                                                                    |   2%\n  |                                                                            \n  |==                                                                    |   3%\n  |                                                                            \n  |===                                                                   |   4%\n  |                                                                            \n  |===                                                                   |   5%\n  |                                                                            \n  |====                                                                  |   5%\n  |                                                                            \n  |====                                                                  |   6%\n  |                                                                            \n  |=====                                                                 |   6%\n  |                                                                            \n  |=====                                                                 |   7%\n  |                                                                            \n  |=====                                                                 |   8%\n  |                                                                            \n  |======                                                                |   8%\n  |                                                                            \n  |======                                                                |   9%\n  |                                                                            \n  |=======                                                               |   9%\n  |                                                                            \n  |=======                                                               |  10%\n  |                                                                            \n  |=======                                                               |  11%\n  |                                                                            \n  |========                                                              |  11%\n  |                                                                            \n  |========                                                              |  12%\n  |                                                                            \n  |=========                                                             |  12%\n  |                                                                            \n  |=========                                                             |  13%\n  |                                                                            \n  |=========                                                             |  14%\n  |                                                                            \n  |==========                                                            |  14%\n  |                                                                            \n  |==========                                                            |  15%\n  |                                                                            \n  |===========                                                           |  15%\n  |                                                                            \n  |===========                                                           |  16%\n  |                                                                            \n  |============                                                          |  16%\n  |                                                                            \n  |============                                                          |  17%\n  |                                                                            \n  |============                                                          |  18%\n  |                                                                            \n  |=============                                                         |  18%\n  |                                                                            \n  |=============                                                         |  19%\n  |                                                                            \n  |==============                                                        |  19%\n  |                                                                            \n  |==============                                                        |  20%\n  |                                                                            \n  |==============                                                        |  21%\n  |                                                                            \n  |===============                                                       |  21%\n  |                                                                            \n  |===============                                                       |  22%\n  |                                                                            \n  |================                                                      |  22%\n  |                                                                            \n  |================                                                      |  23%\n  |                                                                            \n  |================                                                      |  24%\n  |                                                                            \n  |=================                                                     |  24%\n  |                                                                            \n  |=================                                                     |  25%\n  |                                                                            \n  |==================                                                    |  25%\n  |                                                                            \n  |==================                                                    |  26%\n  |                                                                            \n  |===================                                                   |  26%\n  |                                                                            \n  |===================                                                   |  27%\n  |                                                                            \n  |===================                                                   |  28%\n  |                                                                            \n  |====================                                                  |  28%\n  |                                                                            \n  |====================                                                  |  29%\n  |                                                                            \n  |=====================                                                 |  29%\n  |                                                                            \n  |=====================                                                 |  30%\n  |                                                                            \n  |=====================                                                 |  31%\n  |                                                                            \n  |======================                                                |  31%\n  |                                                                            \n  |======================                                                |  32%\n  |                                                                            \n  |=======================                                               |  32%\n  |                                                                            \n  |=======================                                               |  33%\n  |                                                                            \n  |========================                                              |  34%\n  |                                                                            \n  |========================                                              |  35%\n  |                                                                            \n  |=========================                                             |  35%\n  |                                                                            \n  |=========================                                             |  36%\n  |                                                                            \n  |==========================                                            |  36%\n  |                                                                            \n  |==========================                                            |  37%\n  |                                                                            \n  |==========================                                            |  38%\n  |                                                                            \n  |===========================                                           |  38%\n  |                                                                            \n  |===========================                                           |  39%\n  |                                                                            \n  |============================                                          |  39%\n  |                                                                            \n  |============================                                          |  40%\n  |                                                                            \n  |============================                                          |  41%\n  |                                                                            \n  |=============================                                         |  41%\n  |                                                                            \n  |=============================                                         |  42%\n  |                                                                            \n  |==============================                                        |  42%\n  |                                                                            \n  |==============================                                        |  43%\n  |                                                                            \n  |==============================                                        |  44%\n  |                                                                            \n  |===============================                                       |  44%\n  |                                                                            \n  |===============================                                       |  45%\n  |                                                                            \n  |================================                                      |  45%\n  |                                                                            \n  |================================                                      |  46%\n  |                                                                            \n  |=================================                                     |  47%\n  |                                                                            \n  |=================================                                     |  48%\n  |                                                                            \n  |==================================                                    |  48%\n  |                                                                            \n  |==================================                                    |  49%\n  |                                                                            \n  |===================================                                   |  49%\n  |                                                                            \n  |===================================                                   |  50%\n  |                                                                            \n  |===================================                                   |  51%\n  |                                                                            \n  |====================================                                  |  51%\n  |                                                                            \n  |====================================                                  |  52%\n  |                                                                            \n  |=====================================                                 |  52%\n  |                                                                            \n  |=====================================                                 |  53%\n  |                                                                            \n  |=====================================                                 |  54%\n  |                                                                            \n  |======================================                                |  54%\n  |                                                                            \n  |======================================                                |  55%\n  |                                                                            \n  |=======================================                               |  55%\n  |                                                                            \n  |=======================================                               |  56%\n  |                                                                            \n  |========================================                              |  56%\n  |                                                                            \n  |========================================                              |  57%\n  |                                                                            \n  |========================================                              |  58%\n  |                                                                            \n  |=========================================                             |  58%\n  |                                                                            \n  |=========================================                             |  59%\n  |                                                                            \n  |==========================================                            |  59%\n  |                                                                            \n  |==========================================                            |  60%\n  |                                                                            \n  |==========================================                            |  61%\n  |                                                                            \n  |===========================================                           |  61%\n  |                                                                            \n  |===========================================                           |  62%\n  |                                                                            \n  |============================================                          |  62%\n  |                                                                            \n  |============================================                          |  63%\n  |                                                                            \n  |=============================================                         |  64%\n  |                                                                            \n  |=============================================                         |  65%\n  |                                                                            \n  |==============================================                        |  65%\n  |                                                                            \n  |==============================================                        |  66%\n  |                                                                            \n  |===============================================                       |  66%\n  |                                                                            \n  |===============================================                       |  67%\n  |                                                                            \n  |===============================================                       |  68%\n  |                                                                            \n  |================================================                      |  68%\n  |                                                                            \n  |================================================                      |  69%\n  |                                                                            \n  |=================================================                     |  69%\n  |                                                                            \n  |=================================================                     |  70%\n  |                                                                            \n  |=================================================                     |  71%\n  |                                                                            \n  |==================================================                    |  71%\n  |                                                                            \n  |==================================================                    |  72%\n  |                                                                            \n  |===================================================                   |  72%\n  |                                                                            \n  |===================================================                   |  73%\n  |                                                                            \n  |===================================================                   |  74%\n  |                                                                            \n  |====================================================                  |  74%\n  |                                                                            \n  |====================================================                  |  75%\n  |                                                                            \n  |=====================================================                 |  75%\n  |                                                                            \n  |=====================================================                 |  76%\n  |                                                                            \n  |======================================================                |  77%\n  |                                                                            \n  |======================================================                |  78%\n  |                                                                            \n  |=======================================================               |  78%\n  |                                                                            \n  |=======================================================               |  79%\n  |                                                                            \n  |========================================================              |  79%\n  |                                                                            \n  |========================================================              |  80%\n  |                                                                            \n  |========================================================              |  81%\n  |                                                                            \n  |=========================================================             |  81%\n  |                                                                            \n  |=========================================================             |  82%\n  |                                                                            \n  |==========================================================            |  82%\n  |                                                                            \n  |==========================================================            |  83%\n  |                                                                            \n  |==========================================================            |  84%\n  |                                                                            \n  |===========================================================           |  84%\n  |                                                                            \n  |===========================================================           |  85%\n  |                                                                            \n  |============================================================          |  85%\n  |                                                                            \n  |============================================================          |  86%\n  |                                                                            \n  |=============================================================         |  87%\n  |                                                                            \n  |=============================================================         |  88%\n  |                                                                            \n  |==============================================================        |  88%\n  |                                                                            \n  |==============================================================        |  89%\n  |                                                                            \n  |===============================================================       |  89%\n  |                                                                            \n  |===============================================================       |  90%\n  |                                                                            \n  |===============================================================       |  91%\n  |                                                                            \n  |================================================================      |  91%\n  |                                                                            \n  |================================================================      |  92%\n  |                                                                            \n  |=================================================================     |  92%\n  |                                                                            \n  |=================================================================     |  93%\n  |                                                                            \n  |==================================================================    |  94%\n  |                                                                            \n  |==================================================================    |  95%\n  |                                                                            \n  |===================================================================   |  95%\n  |                                                                            \n  |===================================================================   |  96%\n  |                                                                            \n  |====================================================================  |  97%\n  |                                                                            \n  |====================================================================  |  98%\n  |                                                                            \n  |===================================================================== |  98%\n  |                                                                            \n  |===================================================================== |  99%\n  |                                                                            \n  |======================================================================|  99%\n  |                                                                            \n  |======================================================================| 100%\n```\n:::\n\n```{.r .cell-code}\nmap_data <- thirteen_cons %>% \n  left_join(states, join_by(state == NAME)) %>%\n  pivot_wider(names_from = word, values_from = n)\n\nfreedom_map <- ggplot(map_data, aes(fill = freedom)) + geom_sf(aes(geometry = geometry))\nfreedom_map\n```\n\n::: {.cell-output-display}\n![](mapdoc_files/figure-html/unnamed-chunk-28-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nliberty_map <- ggplot(map_data, aes(fill = liberty)) + geom_sf(aes(geometry = geometry))\nliberty_map\n```\n\n::: {.cell-output-display}\n![](mapdoc_files/figure-html/unnamed-chunk-29-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nwelfare_map <- ggplot(map_data, aes(fill = welfare)) + geom_sf(aes(geometry = geometry))\nwelfare_map\n```\n\n::: {.cell-output-display}\n![](mapdoc_files/figure-html/unnamed-chunk-30-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nconsent_map <- ggplot(map_data, aes(fill = consent)) + geom_sf(aes(geometry = geometry))\nconsent_map\n```\n\n::: {.cell-output-display}\n![](mapdoc_files/figure-html/unnamed-chunk-31-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nprohibit_map <- ggplot(map_data, aes(fill = prohibit)) + geom_sf(aes(geometry = geometry))\nprohibit_map\n```\n\n::: {.cell-output-display}\n![](mapdoc_files/figure-html/unnamed-chunk-32-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nequality_map <- ggplot(map_data, aes(fill = equality)) + geom_sf(aes(geometry = geometry))\nequality_map\n```\n\n::: {.cell-output-display}\n![](mapdoc_files/figure-html/unnamed-chunk-33-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nrights_map <- ggplot(map_data, aes(fill = rights)) + geom_sf(aes(geometry = geometry))\nrights_map\n```\n\n::: {.cell-output-display}\n![](mapdoc_files/figure-html/unnamed-chunk-34-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nyear_values <- c(rep(1818, nrow(ct_word_count)),\n                 rep(1776, nrow(de_word_count)),\n                 rep(1777, nrow(ga_word_count)),\n                 rep(1780, nrow(ma_word_count)),\n                 rep(1776, nrow(md_word_count)),\n                 rep(1776, nrow(nc_word_count)),\n                 rep(1776, nrow(nh_word_count)),\n                 rep(1776, nrow(nj_word_count)),\n                 rep(1777, nrow(ny_word_count)),\n                 rep(1776, nrow(pa_word_count)),\n                 rep(1843, nrow(ri_word_count)),\n                 rep(1778, nrow(sc_word_count)),\n                 rep(1776, nrow(va_word_count)))\n\n\nthirteen_cons$year <- year_values\n\nmap_data_2 <- thirteen_cons %>% \n  left_join(states, join_by(state == NAME)) %>%\n  pivot_wider(names_from = word, values_from = n)\n\nmap_data_2$year <- as.character(map_data_2$year)\n\ntime_map <- ggplot(map_data_2, aes(fill = year)) + geom_sf(aes(geometry = geometry))\ntime_map\n```\n\n::: {.cell-output-display}\n![](mapdoc_files/figure-html/unnamed-chunk-35-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nct_all_words <- ct_con_tidy_nostop %>%\n  count(word, sort = TRUE) %>%\n  slice_max(n = 20, order_by = n) %>%\n  mutate(state = rep(\"Connecticut\"))\n\n\nde_all_words <- de_con_tidy_nostop %>%\n  count(word, sort = TRUE) %>%\n  slice_max(n = 20, order_by = n) %>%\n  mutate(state = rep(\"Delaware\"))\n\nga_all_words <- ga_con_tidy_nostop %>%\n  count(word, sort = TRUE) %>%\n  slice_max(n = 20, order_by = n) %>%\n  mutate(state = rep(\"Georgia\"))\n\nmd_all_words <- md_con_tidy_nostop %>%\n  count(word, sort = TRUE) %>%\n  slice_max(n = 20, order_by = n) %>%\n  mutate(state = rep(\"Maryland\"))\n\nma_all_words <- ma_con_tidy_nostop %>%\n  count(word, sort = TRUE) %>%\n  slice_max(n = 20, order_by = n) %>%\n  filter(!word%in%c(\"(art.\", \"\")) %>%\n  mutate(state = rep(\"Massachusetts\"))\n\nnh_all_words <- nh_con_tidy_nostop %>%\n  count(word, sort = TRUE) %>%\n  slice_max(n = 20, order_by = n) %>%\n  filter(!word%in%c(\"(art.\", \" \")) %>%\n  mutate(state = rep(\"New Hampshire\"))\n\nnj_all_words <- nj_con_tidy_nostop %>%\n  count(word, sort = TRUE) %>%\n  slice_max(n = 20, order_by = n) %>%\n  filter(!word%in%c(\"(art.\", \" \"))  %>%\n  mutate(state = rep(\"New Jersey\"))\n\nny_all_words <- ny_con_tidy_nostop %>%\n  count(word, sort = TRUE) %>%\n  slice_max(n = 20, order_by = n) %>%\n  mutate(state = rep(\"New York\"))\n\nnc_all_words <- nc_con_tidy_nostop %>%\n  count(word, sort = TRUE) %>%\n  slice_max(n = 20, order_by = n) %>%\n  filter(!word%in%c(\"(--\", \" \")) %>%\n  mutate(state = rep(\"North Carolina\"))\n\npa_all_words <- pa_con_tidy_nostop %>%\n  count(word, sort = TRUE) %>%\n  slice_max(n = 20, order_by = n) %>%\n  filter(!word%in%c(\"(--\", \" \")) %>%\n  mutate(state = rep(\"Pennsylvania\"))\n\nri_all_words <- ri_con_tidy_nostop %>%\n  count(word, sort = TRUE) %>%\n  slice_max(n = 20, order_by = n) %>%\n  filter(!word%in%c(\"(--\", \" \")) %>%\n  mutate(state = rep(\"Rhode Island\"))\n\nsc_all_words <- sc_con_tidy_nostop %>%\n  count(word, sort = TRUE) %>%\n  slice_max(n = 20, order_by = n) %>%\n  filter(!word%in%c(\"(--\", \" \"))  %>%\n  mutate(state = rep(\"South Carolina\"))\n\nva_all_words <- va_con_tidy_nostop %>%\n  count(word, sort = TRUE) %>%\n  slice_max(n = 20, order_by = n) %>%\n  filter(!word%in%c(\"(--\", \" \")) %>%\n  mutate(state = rep(\"Virginia\"))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nthirteen_cons2 <- rbind(ct_all_words,\n                       de_all_words,\n                       ga_all_words,\n                       ma_all_words,\n                       md_all_words,\n                       nc_all_words,\n                       nh_all_words,\n                       nj_all_words,\n                       ny_all_words,\n                       pa_all_words,\n                       ri_all_words,\n                       sc_all_words,\n                       va_all_words)\n\nthirteen_cons2_filtered <- thirteen_cons2 %>%\n  group_by(state) %>%\n  slice_max(n, n = 1) %>%\n  ungroup()\n\nstates <- states()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRetrieving data for the year 2021\n```\n:::\n\n```{.r .cell-code}\nall_words_map_data <- thirteen_cons2_filtered %>% \n  left_join(states, by = c(\"state\" = \"NAME\"))\n\nmost_used_map <- ggplot(all_words_map_data, aes(fill = word)) +\n  geom_sf(aes(geometry = geometry)) \n  labs(fill = \"Most Popular Word\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n$fill\n[1] \"Most Popular Word\"\n\nattr(,\"class\")\n[1] \"labels\"\n```\n:::\n\n```{.r .cell-code}\nmost_used_map\n```\n\n::: {.cell-output-display}\n![](mapdoc_files/figure-html/unnamed-chunk-37-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "mapdoc_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}